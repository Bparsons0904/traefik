# Traefik log rotation configuration
# This file should be symlinked to /etc/logrotate.d/traefik
# or run manually with: logrotate -f /path/to/this/file

/home/server/traefik/logs/access.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
    dateext
    dateformat -%Y%m%d

    postrotate
        # Send HUP signal to Traefik to reopen log files
        docker kill --signal=HUP traefik 2>/dev/null || true
    endscript
}
